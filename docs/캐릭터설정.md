# 캐릭터 설정 사양서

## 캐릭터 시스템 개요

Castle Defense의 캐릭터는 **역할(Role)**, **클래스(Class)**, **랭크(Rank)**로 분류됩니다. 플레이어는 뽑기(Gacha)를 통해 캐릭터를 획득하고, 전투에 배치하여 사용합니다.

## 캐릭터 분류 체계

### 역할 타입 (RoleType)

#### 1. 탱커 (Tanker) 🛡️
- 역할: 최전선 방어, 적의 공격 흡수
- 특징: 높은 HP와 방어력
- 주요 능력치: HP, 방어력

#### 2. 물리딜러 (Physical Dealer) ⚔️
- 역할: 물리 공격을 통한 적 제거
- 특징: 높은 공격력과 공격 속도
- 주요 능력치: 공격력, 공격 속도

#### 3. 마법딜러 (Magic Dealer) 🔮
- 역할: 마법 공격을 통한 적 제거
- 특징: 강력한 마법 데미지
- 주요 능력치: 공격력, 스킬 파워

#### 4. 성직자 (Priest) ✝️
- 역할: 아군 치유 및 버프
- 특징: 회복 능력, 아군 강화
- 주요 능력치: 치유력, 버프 효과

#### 5. 유틸리티 (Utility) 🛠️
- 역할: 특수 효과 및 지원
- 특징: 다양한 보조 기능
- 주요 능력치: 특수 효과 지속 시간

### 클래스 타입 (ClassType)

#### 탱커 계열
- **전사 (Warrior)**: 기본 방패 전사
- **드루이드 (Druid)**: 자연의 힘을 활용한 탱커
- **흡혈귀 (Vampire)**: 흡혈로 생존하는 탱커

#### 물리딜러 계열
- **궁수 (Archer)**: 원거리 물리 공격
- **총잡이 (Gunslinger)**: 빠른 연사 공격

#### 마법딜러 계열
- **불법사 (Pyromancer)**: 화염 마법
- **빙법사 (Cryomancer)**: 얼음 마법
- **소환사 (Summoner)**: 소환 마법
- **강령술사 (Necromancer)**: 언데드 조종

#### 성직자 계열
- **크루세이더 (Crusader)**: 공격형 성직자
- **프리스트 (Priest Class)**: 회복형 성직자
- **목사 (Pastor)**: 버프형 성직자

#### 유틸리티 계열
- **엔지니어 (Engineer)**: 기계 설치
- **연금술사 (Alchemist)**: 물약 제조
- **트릭스터 (Trickster)**: 함정 설치
- **어시스턴트 (Assistant)**: 지원

### 랭크 시스템 (RankType)

#### S 랭크 ⭐⭐⭐⭐⭐
- 색상: 금색 (0xFFFFD700)
- 뽑기 확률: 3%
- 특징: 최상급 능력치

#### A 랭크 ⭐⭐⭐⭐
- 색상: 은색 (0xFFC0C0C0)
- 뽑기 확률: 12%
- 특징: 우수한 능력치

#### B 랭크 ⭐⭐⭐
- 색상: 동색 (0xFFCD7F32)
- 뽑기 확률: 35%
- 특징: 평균 능력치

#### C 랭크 ⭐⭐
- 색상: 회색 (0xFF808080)
- 뽑기 확률: 50%
- 특징: 기본 능력치

## 캐릭터 기본 능력치

### CharacterBaseStats 구조
```dart
{
  maxHp: double,        // 최대 HP
  attack: double,       // 공격력
  defense: double,      // 방어력
  attackSpeed: double,  // 공격 속도 (초당 공격 횟수)
  moveSpeed: double,    // 이동 속도
}
```

## 전체 캐릭터 목록

### S 랭크 캐릭터 (8명)

#### 1. 강철의 수호자 바르그 (탱커/전사)
```
ID: tank_s_varg
역할: 탱커 🛡️
클래스: 전사
랭크: S

능력치:
- HP: 5000
- 공격력: 150
- 방어력: 250
- 공격 속도: 0.8
- 이동 속도: 80

스킬: skill_iron_fortress
설명: 방어력과 체력이 매우 높은 최전선 수호자
```

#### 2. 불멸의 블라디미르 (탱커/흡혈귀)
```
ID: tank_s_vladimir
역할: 탱커 🛡️
클래스: 흡혈귀
랭크: S

능력치:
- HP: 4200
- 공격력: 190
- 방어력: 180
- 공격 속도: 1.0
- 이동 속도: 85

스킬: skill_blood_pact
설명: 흡혈로 생존력을 극대화하는 불멸의 전사
```

#### 3. 바람의 사냥꾼 아르테미스 (물리딜러/궁수)
```
ID: pdeal_s_artemis
역할: 물리딜러 ⚔️
클래스: 궁수
랭크: S

능력치:
- HP: 2800
- 공격력: 380
- 방어력: 90
- 공격 속도: 1.5
- 이동 속도: 95

스킬: skill_arrow_rain
설명: 빠른 공격 속도로 적을 압도하는 궁수
```

#### 4. 질풍의 총잡이 카산드라 (물리딜러/총잡이)
```
ID: pdeal_s_cassandra
역할: 물리딜러 ⚔️
클래스: 총잡이
랭크: S

능력치:
- HP: 2600
- 공격력: 400
- 방어력: 85
- 공격 속도: 1.8
- 이동 속도: 100

스킬: skill_bullet_storm
설명: 연속 사격으로 적을 제압하는 총잡이
```

#### 5. 화염 군주 이그니스 (마법딜러/불법사)
```
ID: mdeal_s_ignis
역할: 마법딜러 🔮
클래스: 불법사
랭크: S

능력치:
- HP: 2600
- 공격력: 420
- 방어력: 80
- 공격 속도: 0.7
- 이동 속도: 70

스킬: skill_meteor_buster
설명: 강력한 화염 마법으로 적을 소각하는 마법사
```

#### 6. 극한의 얼음마녀 프로스티아 (마법딜러/빙법사)
```
ID: mdeal_s_frostia
역할: 마법딜러 🔮
클래스: 빙법사
랭크: S

능력치:
- HP: 2700
- 공격력: 390
- 방어력: 95
- 공격 속도: 0.8
- 이동 속도: 75

스킬: skill_ice_prison
설명: 적을 얼려 무력화시키는 빙결의 마법사
```

#### 7. 성전의 불꽃 아르테르 (성직자/크루세이더)
```
ID: priest_s_arter
역할: 성직자 ✝️
클래스: 크루세이더
랭크: S

능력치:
- HP: 3200
- 공격력: 210
- 방어력: 160
- 공격 속도: 1.0
- 이동 속도: 85

스킬: skill_holy_judgment
설명: 아군을 강화하고 언데드를 심판하는 성전사
```

#### 8. 기계 공학자 오르빗 (유틸리티/엔지니어)
```
ID: util_s_orbit
역할: 유틸리티 🛠️
클래스: 엔지니어
랭크: S

능력치:
- HP: 2800
- 공격력: 180
- 방어력: 120
- 공격 속도: 0.9
- 이동 속도: 75

스킬: skill_auto_turret
설명: 자동 포탑으로 지속적인 화력을 제공하는 엔지니어
```

### A 랭크 캐릭터 (4명)

#### 1. 강철 방패 레오나르드 (탱커/전사)
```
ID: tank_a_leonard
역할: 탱커 🛡️
클래스: 전사
랭크: A

능력치:
- HP: 3800
- 공격력: 120
- 방어력: 200
- 공격 속도: 0.8
- 이동 속도: 75

스킬: skill_shield_bash
설명: 견고한 방어로 아군을 지키는 전사
```

#### 2. 의적 로빈 (물리딜러/궁수)
```
ID: pdeal_a_robin
역할: 물리딜러 ⚔️
클래스: 궁수
랭크: A

능력치:
- HP: 2200
- 공격력: 280
- 방어력: 70
- 공격 속도: 1.3
- 이동 속도: 90

스킬: skill_multishot
설명: 정확한 화살로 적을 관통하는 궁수
```

#### 3. 화염술사 파이로 (마법딜러/불법사)
```
ID: mdeal_a_pyro
역할: 마법딜러 🔮
클래스: 불법사
랭크: A

능력치:
- HP: 2000
- 공격력: 310
- 방어력: 60
- 공격 속도: 0.7
- 이동 속도: 65

스킬: skill_fireball
설명: 불꽃으로 적을 태우는 화염 마법사
```

#### 4. 치유의 성녀 힐다 (성직자/프리스트)
```
ID: priest_a_hilda
역할: 성직자 ✝️
클래스: 프리스트
랭크: A

능력치:
- HP: 2500
- 공격력: 150
- 방어력: 120
- 공격 속도: 0.9
- 이동 속도: 80

스킬: skill_holy_heal
설명: 강력한 치유로 아군을 회복시키는 성직자
```

### B 랭크 캐릭터 (3명)

#### 1. 철벽 브루투스 (탱커/전사)
```
ID: tank_b_brutus
역할: 탱커 🛡️
클래스: 전사
랭크: B

능력치:
- HP: 2800
- 공격력: 90
- 방어력: 150
- 공격 속도: 0.7
- 이동 속도: 70

스킬: skill_taunt
설명: 단단한 방어로 전선을 지키는 전사
```

#### 2. 숲의 엘라 (물리딜러/궁수)
```
ID: pdeal_b_ella
역할: 물리딜러 ⚔️
클래스: 궁수
랭크: B

능력치:
- HP: 1800
- 공격력: 200
- 방어력: 50
- 공격 속도: 1.2
- 이동 속도: 85

스킬: skill_aimed_shot
설명: 날렵한 움직임으로 적을 공격하는 궁수
```

#### 3. 견습 화염사 플레임 (마법딜러/불법사)
```
ID: mdeal_b_flame
역할: 마법딜러 🔮
클래스: 불법사
랭크: B

능력치:
- HP: 1600
- 공격력: 220
- 방어력: 45
- 공격 속도: 0.6
- 이동 속도: 60

스킬: skill_fire_blast
설명: 화염 마법을 연마 중인 견습 마법사
```

### C 랭크 캐릭터 (2명)

#### 1. 신참 가드 (탱커/전사)
```
ID: tank_c_guard
역할: 탱커 🛡️
클래스: 전사
랭크: C

능력치:
- HP: 2000
- 공격력: 60
- 방어력: 100
- 공격 속도: 0.6
- 이동 속도: 65

스킬: skill_basic_shield
설명: 기본적인 방어 기술을 가진 신참 전사
```

#### 2. 신참 루키 (물리딜러/궁수)
```
ID: pdeal_c_rookie
역할: 물리딜러 ⚔️
클래스: 궁수
랭크: C

능력치:
- HP: 1400
- 공격력: 140
- 방어력: 35
- 공격 속도: 1.0
- 이동 속도: 80

스킬: skill_basic_shot
설명: 활을 배우기 시작한 신참 궁수
```

## 캐릭터 인스턴스 시스템

### OwnedCharacter 구조
```dart
{
  instanceId: String,    // 고유 인스턴스 ID
  characterId: String,   // 캐릭터 정의 ID
  level: int,            // 레벨 (기본값: 1)
  exp: int,              // 경험치 (기본값: 0)
}
```

### 중복 캐릭터
- 같은 캐릭터를 여러 번 획득 가능
- 각 획득마다 고유한 instanceId 부여
- UI에서 중복 개수 표시 (예: "x16")

## 캐릭터 성장 시스템 (예정)

### 레벨 시스템
- 최대 레벨: 미정
- 레벨업: 경험치 획득
- 레벨업 효과: 능력치 증가

### 강화 시스템 (예정)
- 중복 캐릭터 소모
- 스킬 레벨 업그레이드
- 능력치 강화

## 스킬 시스템 (예정)

### 스킬 타겟 타입
- **자신 (Self)**: 본인에게 효과
- **단일 적 (Single Enemy)**: 적 1명 타겟
- **범위 적 (Area Enemy)**: 범위 내 적 다수
- **모든 아군 (All Allies)**: 모든 아군
- **모든 적 (All Enemies)**: 모든 적

### 데미지 타입
- **물리 (Physical)**: 물리 데미지
- **마법 (Magical)**: 마법 데미지
- **고정 (True Damage)**: 방어 무시
- **회복 (Heal)**: HP 회복
- **버프 (Buff)**: 아군 강화
- **디버프 (Debuff)**: 적 약화

## 캐릭터 배치 시스템

### 캐릭터 슬롯
- 총 슬롯 수: 4개
- 슬롯 위치: 성 위쪽
- 배치 방식: 드래그 앤 드롭 (예정)

### 슬롯 정보
```dart
{
  slotIndex: int,        // 슬롯 번호 (0~3)
  hasCharacter: bool,    // 캐릭터 배치 여부
  characterName: String, // 캐릭터 이름
  skillReady: bool,      // 스킬 사용 가능 여부
}
```

## 능력치 밸런스

### 랭크별 능력치 범위

#### HP
- S 랭크: 2600 ~ 5000
- A 랭크: 2000 ~ 3800
- B 랭크: 1600 ~ 2800
- C 랭크: 1400 ~ 2000

#### 공격력
- S 랭크: 150 ~ 420
- A 랭크: 120 ~ 310
- B 랭크: 90 ~ 220
- C 랭크: 60 ~ 140

#### 방어력
- S 랭크: 80 ~ 250
- A 랭크: 60 ~ 200
- B 랭크: 45 ~ 150
- C 랭크: 35 ~ 100

#### 공격 속도
- 범위: 0.6 ~ 1.8 (초당 공격 횟수)
- 낮을수록 느림, 높을수록 빠름

#### 이동 속도
- 범위: 60 ~ 100
- 역할별 특성 반영 (탱커 느림, 딜러 빠름)
