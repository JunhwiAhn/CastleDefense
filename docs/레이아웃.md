# 레이아웃 사양서

## 화면 구조

### 전체 레이아웃
```
┌─────────────────────────────────────┐
│     상단 네비게이션 바 (60px)        │  ← z-index 높음
├─────────────────────────────────────┤
│                                     │
│                                     │
│         메인 콘텐츠 영역             │
│                                     │
│                                     │
├─────────────────────────────────────┤
│     하단 메뉴 바 (70px)              │
└─────────────────────────────────────┘
```

## 상단 네비게이션 바

### 위치 및 크기
- 높이: 60px
- 위치: 화면 최상단
- z-index: 최상위 (항상 표시)
- 배경색: 반투명 검정 (0x88000000)

### 좌측 영역 (프로필)
- 프로필 아이콘 (원형)
- 플레이어 닉네임
- 플레이어 레벨 표시
  - 형식: "Lv.{레벨}"
  - 위치: 닉네임 우측

### 중앙 영역 (현재 스테이지/라운드)
- 스테이지 번호 표시
- 라운드 번호 표시 (전투 중)
- 형식: "Stage {n} - Round {m}"

### 우측 영역 (리소스)
- **수평 배치**로 변경 (세로 → 가로)
- 골드, 젬, 에너지를 한 줄에 표시
- 형식: "💰{gold}  💎{gem}  ⚡{energy}"

## 메인 콘텐츠 영역

### 1. 라운드 선택 화면

#### 스테이지 선택 영역
```
┌─────────────────────────────────────┐
│  스테이지 제목 박스                  │
│  "Stage {n}: {테마명}"               │
│  ┌───┐ ┌───┐ ┌───┐                 │
│  │ 1 │ │ 2 │ │ 3 │ ...             │  ← 스테이지 선택 버튼
│  └───┘ └───┘ └───┘                 │
└─────────────────────────────────────┘
```

- 스테이지 제목 박스 크기 조정 (좌우 여백 추가)
- 스테이지 선택 버튼은 스크롤 가능
- 현재 선택된 스테이지 강조 표시

#### 라운드 선택 영역 (Candy Crush 스타일)
```
┌─────────────────────────────────────┐
│        라운드 노드 (3×3 그리드)      │
│                                     │
│        ┌───┐  ┌───┐  ┌───┐         │
│        │ 1 │  │ 2 │  │ 3 │         │
│        └───┘  └───┘  └───┘         │
│                                     │
│        ┌───┐  ┌───┐  ┌───┐         │
│        │ 4 │  │5😈│  │ 6 │         │  ← 라운드 5는 미니보스
│        └───┘  └───┘  └───┘         │
│                                     │
│        ┌───┐  ┌───┐  ┌───┐         │
│        │ 7 │  │ 8 │  │ 9 │         │
│        └───┘  └───┘  └───┘         │
│                                     │
│             ┌─────┐                 │
│             │10😈 │                 │  ← 보스는 크게
│             └─────┘                 │
└─────────────────────────────────────┘
```

- 라운드 1~9: 3×3 그리드 배치
- 라운드 10: 중앙 하단, 더 큰 아이콘
- 라운드 5, 10: 악마 이모지(😈) 표시
- 언락되지 않은 라운드: 잠금 아이콘(🔒) 표시

### 2. 전투 화면

#### 상단 정보 영역
```
┌─────────────────────────────────────┐
│  Stage {n} - Round {m}   [⏸ 일시정지]│  ← 우측 정렬, 작은 버튼
├─────────────────────────────────────┤
│  남은 몬스터: {remaining}            │
│  시간: {mm:ss} / {limit}            │
└─────────────────────────────────────┘
```

- 일시정지 버튼: 스테이지-라운드 표시 우측, 작은 크기
- 남은 몬스터 카운터: 좌측 상단
- 남은 시간: 우측 상단

#### 게임 플레이 영역
```
┌─────────────────────────────────────┐
│                                     │
│        👾  👾                       │  ← 몬스터
│              👾                     │
│                  🏰                 │  ← 성
│                                     │
├─────────────────────────────────────┤
│  [슬롯1] [슬롯2] [슬롯3] [슬롯4]     │  ← 캐릭터 슬롯
└─────────────────────────────────────┘
```

- 성: 하단 중앙
- 몬스터: 화면 상단에서 낙하
- 캐릭터 슬롯: 성 위쪽, 4개 배치

### 3. 결과 화면

```
┌─────────────────────────────────────┐
│                                     │
│         라운드 클리어! 🎉           │
│          (또는 실패 😢)              │
│                                     │
│  획득 골드: +{amount} 💰            │
│  획득 경험치: +{amount} ⭐          │
│                                     │
│  [다음 라운드] [라운드 선택으로]     │
│                                     │
└─────────────────────────────────────┘
```

## 하단 메뉴 바

### 위치 및 크기
- 높이: 70px
- 위치: 화면 최하단
- 배경색: 밝은 회색 (0xFFEEEEEE)

### 메뉴 구성 (좌→우)
```
┌───────┬───────┬───────┬───────┬───────┐
│  🏪   │  🎒   │  🏠   │  🎰   │  ⚙️  │
│ 상점  │인벤토리│  홈   │ 뽑기  │ 설정  │
└───────┴───────┴───────┴───────┴───────┘
```

1. **상점 (Shop)** - 🏪
2. **인벤토리 (Inventory)** - 🎒
3. **홈 (Home)** - 🏠 (라운드 선택)
4. **뽑기 (Gacha)** - 🎰
5. **설정 (Settings)** - ⚙️

### 메뉴 버튼 스타일
- 선택된 메뉴: 강조 표시 (밝은 색상)
- 비선택 메뉴: 기본 회색
- 아이콘 + 텍스트 세로 배치

## 뽑기 화면 레이아웃

### 전체 구조
```
┌─────────────────────────────────────┐
│  🎰 소환  |  💎 {gem}               │  ← 압축된 헤더 (한 줄)
├─────────────────────────────────────┤
│  [단일 소환 100💎] [10연차 900💎]   │  ← 작은 버튼
│                                     │
│  S:3% A:12% B:35% C:50%            │  ← 확률 표시
├─────────────────────────────────────┤
│  📖 캐릭터 도감                      │
│  보유: {owned} / {total}            │
│                                     │
│  ┌──┬──┬──┬──┬──┐                 │
│  │  │  │  │  │  │  ← 5개씩        │
│  ├──┼──┼──┼──┼──┤                 │
│  │  │  │  │  │  │                 │  ← 스크롤 가능 영역
│  ├──┼──┼──┼──┼──┤     (345px)     │     (크게 확장됨!)
│  │  │  │  │  │  │                 │
│  ├──┼──┼──┼──┼──┤                 │
│  │  │  │  │  │  │                 │
│  └──┴──┴──┴──┴──┘                 │
└─────────────────────────────────────┘
```

### 뽑기 버튼 영역
- 위치: 상단 (y=45)
- 단일 소환: 140px × 55px
- 10연차 소환: 140px × 80px
- 좌우 배치

### 캐릭터 도감 영역
- 시작 위치: y=165 (대폭 상향)
- 스크롤 가능 높이: 약 345px
- 한 행당 5개 캐릭터
- 드래그로 스크롤

### 캐릭터 카드
```
┌──────────┐
│    S     │  ← 랭크 (금색/은색/동색/회색)
│   🛡️    │  ← 역할 이모지
│  이름    │
│   x16    │  ← 중복 개수 (빨간 배지)
└──────────┘
```

- 크기: 60px × 80px
- 간격: 10px
- 보유: 컬러 표시 + 랭크 + 역할 + 이름 + 중복 개수
- 미보유: 회색 + 🔒 + "???"

### 뽑기 결과 화면
```
┌─────────────────────────────────────┐
│                                     │
│                                     │
│         ┌─────────────┐             │
│         │             │             │
│         │  캐릭터     │             │
│         │  이미지     │             │
│         │             │             │
│         └─────────────┘             │
│                                     │
│         {랭크} {역할} {이름}         │
│                                     │
│       터치하여 다음 캐릭터 확인       │
│                                     │
└─────────────────────────────────────┘
```

- 한 번에 한 캐릭터씩 표시
- 터치로 다음 캐릭터 확인
- 모든 캐릭터 확인 후 인벤토리에 추가

## 화면 크기 및 비율

### 기본 설정
- 기준 화면 크기: 360px × 600px (FlameGame)
- 반응형 레이아웃 미적용 (고정 크기)

### 영역별 높이
- 상단 네비게이션: 60px
- 메인 콘텐츠: 470px (600 - 60 - 70)
- 하단 메뉴: 70px

## UI 마진 및 간격

### 네비게이션 바와 콘텐츠 분리
- 상단 네비게이션과 메인 콘텐츠 사이 마진 적용
- 겹침 방지를 위한 z-index 레이어링

### 스테이지 선택 영역
- 스테이지 제목 박스: 좌우 여백 추가
- 스테이지 버튼 간격: 10px

### 라운드 노드 간격
- 노드 크기: 40px × 40px
- 노드 간격: 15px (가로/세로)
- 보스 노드: 60px × 60px

## 스크롤 동작

### 뽑기 화면 캐릭터 도감
- 스크롤 방식: 드래그 (터치 앤 드래그)
- 스크롤 영역: 캐릭터 리스트 전체
- 뷰포트 클리핑: 화면 밖 카드는 렌더링 생략
- 스크롤 범위: 0 ~ 최대 스크롤 높이
